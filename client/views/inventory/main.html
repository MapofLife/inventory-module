<div ng-include="'//mol.org/partials/header-thin' | trustUrl" mol-window-resize="windowResize"></div>
<div ng-include src="'/inventory/assets/views/inventory/nav.html'"></div>
<div class="mol-inventory-container">
  <div class="mol-inventory-table">
    <mol-facet type="text" ng-model="qq"/>
    <div ng-repeat="field in fields" class="mol-control">
      <label ng-bind="field.title"></label>
      <ui-select ng-model="facets[$index]" on-select="filterOptions()">
        <ui-select-match allow-clear="true" placeholder="Select {{field.title}}">
          {{$select.selected | limitTo: 30}}
        </ui-select-match>
        <ui-select-choices repeat="option in options[$parent.$index] | filter: $select.search">
          <small ng-bind-html="option | highlight: $select.search"></small>
        </ui-select-choices>
      </ui-select>
    </div>
  </div>
  <div class="mol-inventory-map">
    <leaflet width="100%"
      layers="map.layers"
      center="map.center"
      event-broadcast="map.events"
      mol-window-resize="windowResize" />
  </div>
</div>
<i ng-if="!fields.length" class="fa fa-spinner fa-spin fa-4x"></i>
<div ng-include="'//mol.org/partials/footer-thin' | trustUrl" mol-window-resize="windowResize"></div>
